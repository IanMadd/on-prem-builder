<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>builder.env</title>
<link rel="shortcut icon" type="image/png" href="/images/favicon.ico" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />

  <link rel="stylesheet" href="/css/chef-sh.css" />
</head>

<body>
  <div class="off-canvas-wrapper has-sidebar">
    <div class="off-canvas-content" data-off-canvas-content>
      <div class="cell small-12">
        <nav id="utility-bar" class="utility-bar" data-toggler="active">
  <div class="grid-container">
    <div class="grid-x align-right">
      <div class="cell medium-7 utility-bar-wrapper text-right">
        <button type="button" class="utility-bar-button" data-toggle="utility-bar">
          <span class="show-for-medium">Explore the <span class="chef-logo"><span class="sr-only">Chef</span></span> Automation Portfolio</span>
          <span class="show-for-small-only">Chef Automation</span>
          <span class="arrow"><span class="sr-only">Expand</span></span>
        </button>
        <div class="utility-bar-content text-left">
          <div class="grid-x">
            <div class="oss-projects grid-x" data-equalizer>
              <div class="cell medium-4">
                <a href="https://chef.sh">
                  <div data-equalizer-watch><img src="/images/chef-logo.svg" alt="Chef" width="131" class="chef"></div>
                  <p>Ensure configurations are applied consistently in every environment, at any scale.</p>
                </a>
              </div>
              <div class="cell medium-4">
                <a href="https://inspec.io">
                  <div data-equalizer-watch><img src="/images/inspec-logo.svg" alt="Inspec" width="133" class="inspec"></div>
                  <p>Automate the validation of compliance and security in any environment, on any platform.</p>
                </a>
              </div>
              <div class="cell medium-4">
                <a href="https://habitat.sh">
                  <div data-equalizer-watch><img src="/images/habitat-logo.svg" alt="Habitat" width="111" class="habitat"></div>
                  <p>Automate the process of building, deploying, and managing any application in any environment.</p>
                </a>
              </div>
            </div>
            <div class="automate cell small-12">
              <div class="cell small-12">
                <a href="https://automate.chef.io" class="with-arrow-button">
                  <img src="/images/chef-automate-logo.svg" alt="Chef Automate" width="217" class="chef-automate">
                  <p>Build, deploy, and manage faster, more efficiently, and with less risk with Chef Automate, the continuous automation platform.</p>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>

      </div>
      <div id="menu" class="cell small-12" data-sticky-container>
        

<nav data-sticky class="sticky" style="min-width:100%;" data-check-every="0" data-sticky-on="small" data-margin-top="0" data-top-anchor="utility-bar:bottom">
  <header>
    <div class="grid-container">
      <div class="grid-x">
        <div id="header-logo" class="cell large-3 small-11">
          <a href="/"><img src="/images/chef-logo.svg" alt="Chef Habitat Builder on-prem documentation"></a>
        </div>
        <div id="header-toggle" data-responsive-toggle="header-menu" data-hide-for="large" class="cell small-1">
          <div class="valign-small">
            <button type="button" data-toggle="header-menu" aria-label="Menu"><i aria-hidden="true" class="fas fa-bars fa-lg"></i></button>
          </div>
        </div>
        <div id="header-menu" class="cell large-9 small-12">
          <ul class="vertical medium-horizontal menu">
            
          </ul>
        </div>

      </div>
    </div>
  </header>
</nav>

      </div>
      <div id="main-content" class="cell small-12" data-sticky-container>
        <div class="grid-container">
          <div class="grid-x">
            <div class="cell medium-3 col-sidebar">
              


<aside class="sticky" data-sticky data-anchor="main-content-col" data-margin-top="4" data-margin-bottom="2">
  <nav id="sidebar-nav">
    
    
    <div class="nav">
      <ul class="vertical menu accordion-menu" data-accordion-menu>
        
      </ul>
    </div>
  </nav>
</aside>

            </div>
            <div id="main-content-col" class="cell medium-9 col-content">
              
<h1>builder.env</h1>
<div class="prose">
  <div class="highlight"><pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#080">#!/bin/bash
</span><span style="color:#080"></span>
<span style="color:#080;font-style:italic"># The endpoint and port for your Postgresql instance</span>
<span style="color:#080;font-style:italic"># Change only if needed</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">POSTGRES_HOST</span><span style="color:#666">=</span>localhost
<span style="color:#a2f">export</span> <span style="color:#b8860b">POSTGRES_PORT</span><span style="color:#666">=</span><span style="color:#666">5432</span>

<span style="color:#080;font-style:italic"># The endpoint, key and secret for your Minio instance (see README)</span>
<span style="color:#080;font-style:italic"># Change these before the first install if needed</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">MINIO_ENDPOINT</span><span style="color:#666">=</span>http://localhost:9000
<span style="color:#a2f">export</span> <span style="color:#b8860b">MINIO_BUCKET</span><span style="color:#666">=</span>habitat-builder-artifact-store.local
<span style="color:#a2f">export</span> <span style="color:#b8860b">MINIO_ACCESS_KEY</span><span style="color:#666">=</span>depot
<span style="color:#a2f">export</span> <span style="color:#b8860b">MINIO_SECRET_KEY</span><span style="color:#666">=</span>password

<span style="color:#080;font-style:italic"># If you&#39;d like to use Arifactory instead of Minio, uncomment</span>
<span style="color:#080;font-style:italic"># and set the following variables appropriately.</span>
<span style="color:#080;font-style:italic"># IMPORTANT: See the README for more info</span>
<span style="color:#080;font-style:italic"># export ARTIFACTORY_ENABLED=true</span>
<span style="color:#080;font-style:italic"># export ARTIFACTORY_API_URL=http://localhost:8081</span>
<span style="color:#080;font-style:italic"># export ARTIFACTORY_API_KEY=foo</span>
<span style="color:#080;font-style:italic"># export ARTIFACTORY_REPO=habitat-builder-artifact-store</span>

<span style="color:#080;font-style:italic"># Modify these as needed for the on-premise OAuth2 provider.</span>
<span style="color:#080;font-style:italic"># The variables below are configured for GitHub by default,</span>
<span style="color:#080;font-style:italic"># but appropriate values for Bitbucket, GitLab, Azure AD and Okta</span>
<span style="color:#080;font-style:italic"># are also included as comments.</span>

<span style="color:#080;font-style:italic"># Whether SSL is enabled for the on-prem depot</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">APP_SSL_ENABLED</span><span style="color:#666">=</span><span style="color:#a2f">false</span>

<span style="color:#080;font-style:italic"># The URL for this instance of the on-prem depot</span>
<span style="color:#080;font-style:italic"># IMPORTANT: If SSL is enabled, APP_URL should start be https</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">APP_URL</span><span style="color:#666">=</span>http://localhost

<span style="color:#080;font-style:italic"># The OAUTH_PROVIDER value can be &#34;github&#34;, &#34;gitlab&#34;, &#34;bitbucket&#34;, &#34;azure-ad&#34;,</span>
<span style="color:#080;font-style:italic"># &#34;okta&#34; or &#34;chef-automate&#34;</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_PROVIDER</span><span style="color:#666">=</span>github
<span style="color:#080;font-style:italic"># export OAUTH_PROVIDER=bitbucket</span>
<span style="color:#080;font-style:italic"># export OAUTH_PROVIDER=gitlab</span>
<span style="color:#080;font-style:italic"># export OAUTH_PROVIDER=azure-ad</span>
<span style="color:#080;font-style:italic"># export OAUTH_PROVIDER=okta</span>
<span style="color:#080;font-style:italic"># export OAUTH_PROVIDER=chef-automate</span>

<span style="color:#080;font-style:italic"># The OAUTH_USERINFO_URL is the API endpoint that will be used for user info</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_USERINFO_URL</span><span style="color:#666">=</span>https://api.github.com/user
<span style="color:#080;font-style:italic"># export OAUTH_USERINFO_URL=https://api.bitbucket.org/1.0/user</span>
<span style="color:#080;font-style:italic"># export OAUTH_USERINFO_URL=https://gitlab.com/oauth/userinfo</span>
<span style="color:#080;font-style:italic"># export OAUTH_USERINFO_URL=https://login.microsoftonline.com/&lt;tenant-id&gt;/openid/userinfo</span>
<span style="color:#080;font-style:italic"># export OAUTH_USERINFO_URL=https://&lt;your.okta.domain&gt;.com/oauth2/v1/userinfo</span>
<span style="color:#080;font-style:italic"># export OAUTH_USERINFO_URL=https://&lt;your.automate.domain&gt;/session/userinfo</span>

<span style="color:#080;font-style:italic"># The OAUTH_AUTHORIZE_URL is the *fully qualified* OAuth2 authorization endpoint</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_AUTHORIZE_URL</span><span style="color:#666">=</span>https://github.com/login/oauth/authorize
<span style="color:#080;font-style:italic"># export OAUTH_AUTHORIZE_URL=https://bitbucket.org/site/oauth2/authorize</span>
<span style="color:#080;font-style:italic"># export OAUTH_AUTHORIZE_URL=https://gitlab.com/oauth/authorize</span>
<span style="color:#080;font-style:italic"># export OAUTH_AUTHORIZE_URL=https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/authorize</span>
<span style="color:#080;font-style:italic"># export OAUTH_AUTHORIZE_URL=https://&lt;your.okta.domain&gt;.com/oauth2/v1/authorize</span>
<span style="color:#080;font-style:italic"># export OAUTH_AUTHORIZE_URL=https://&lt;your.automate.domain&gt;/session/new</span>

<span style="color:#080;font-style:italic"># The OAUTH_SIGNUP_URL is the link used to register users with the OAUTH provider</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_SIGNUP_URL</span><span style="color:#666">=</span>https://github.com/join
<span style="color:#080;font-style:italic"># export OAUTH_SIGNUP_URL=https://bitbucket.org/account/signup/</span>
<span style="color:#080;font-style:italic"># export OAUTH_SIGNUP_URL=https://gitlab.com/users/sign_in#register-pane</span>

<span style="color:#080;font-style:italic"># The OAUTH_TOKEN_URL is the *fully qualified* OAuth2 token endpoint</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_TOKEN_URL</span><span style="color:#666">=</span>https://github.com/login/oauth/access_token
<span style="color:#080;font-style:italic"># export OAUTH_TOKEN_URL=https://bitbucket.org/site/oauth2/access_token</span>
<span style="color:#080;font-style:italic"># export OAUTH_TOKEN_URL=https://gitlab.com/oauth/token</span>
<span style="color:#080;font-style:italic"># export OAUTH_TOKEN_URL=https://login.microsoftonline.com/tenant-id/oauth2/token</span>
<span style="color:#080;font-style:italic"># export OAUTH_TOKEN_URL=https://your.okta.domain.com/oauth2/v1/token</span>
<span style="color:#080;font-style:italic"># export OAUTH_TOKEN_URL=https://&lt;your.automate.domain&gt;/session/token</span>

<span style="color:#080;font-style:italic"># The OAUTH_REDIRECT_URL is the registered OAuth2 redirect</span>
<span style="color:#080;font-style:italic"># IMPORTANT: If SSL is enabled, the redirect URL should be https</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_REDIRECT_URL</span><span style="color:#666">=</span>http://localhost/

<span style="color:#080;font-style:italic"># The OAUTH_CLIENT_ID is the registered OAuth2 client id</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_CLIENT_ID</span><span style="color:#666">=</span>0123456789abcdef0123

<span style="color:#080;font-style:italic"># The OAUTH_CLIENT_SECRET is the registerd OAuth2 client secret</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">OAUTH_CLIENT_SECRET</span><span style="color:#666">=</span>0123456789abcdef0123456789abcdef01234567

<span style="color:#080;font-style:italic"># Modify these only if there is a specific need, otherwise leave as is</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">BLDR_CHANNEL</span><span style="color:#666">=</span>on-prem-stable
<span style="color:#a2f">export</span> <span style="color:#b8860b">BLDR_ORIGIN</span><span style="color:#666">=</span>habitat
<span style="color:#a2f">export</span> <span style="color:#b8860b">HAB_BLDR_URL</span><span style="color:#666">=</span>https://bldr.habitat.sh

<span style="color:#080;font-style:italic"># Help us make Habitat better! Opt into analytics by changing the ANALYTICS_ENABLED</span>
<span style="color:#080;font-style:italic"># setting below to true, then optionally provide your company name. (Analytics is</span>
<span style="color:#080;font-style:italic"># disabled by default. See our privacy policy at https://www.habitat.sh/legal/privacy-policy/.)</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">ANALYTICS_ENABLED</span><span style="color:#666">=</span><span style="color:#a2f">false</span>
<span style="color:#a2f">export</span> <span style="color:#b8860b">ANALYTICS_COMPANY_NAME</span><span style="color:#666">=</span><span style="color:#b44">&#34;&#34;</span></code></pre></div>
</div>

            </div>
          </div>
        </div>
      </div>
      <div id="footer" class="cell small-12">
        <div class="grid-x">
          <div class="cell small-12">
            <nav>
              
<footer>
  <div class="grid-container">
    <div class="grid-x align-middle">
      <div class="cell small-12 large-3 logo"><a href="/"><img src="/images/chef-logo-light.svg" alt="Chef Habitat Builder on-prem documentation"></a></div>
      <div class="cell small-12 large-9">
        <ul class="menu vertical medium-horizontal">
          <li><a href="https://www.chef.io/online-master-agreement/" target="_blank">Licensing</a></li>
          <li><a href="https://www.chef.io/terms-of-service/" target="_blank">Terms &amp; Conditions</a></li>
          <li><a href="https://www.chef.io/trademark-policy/" target="_blank">Trademark Policy</a></li>
          <li><a href="https://www.chef.io/privacy-policy/" target="_blank">Privacy Policy</a></li>
          <li><a href="https://www.chef.io/cookie-policy/" target="_blank">Cookie Policy</a></li>
        </ul>
        <p class="legal">&copy; 2008-2019 Chef Software, Inc. All Rights Reserved.</p>
      </div>
    </div>
  </div>
</footer>

            </nav>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script src="/js/scripts-all.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
  <script type="text/javascript">
    docsearch({
      apiKey: '3f16191e15b2b4a4b0823c9f856e2de2',
      indexName: 'chef_sh',
      inputSelector: '#doc-search',
      debug: false 
    });
  </script>
</body>
</html>
